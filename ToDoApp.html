<!DOCTYPE html>

<html>
<head>
    <link href="http://cdn.metroui.org.ua/css/metro.min.css" rel="stylesheet">
    <link href="http://cdn.metroui.org.ua/css/metro-colors.min.css" rel="stylesheet">
    <link href="http://cdn.metroui.org.ua/css/metro-schemes.min.css" rel="stylesheet">
    <link href="http://cdn.metroui.org.ua/css/metro-icons.min.css" rel="stylesheet">
    <link href="http://cdn.metroui.org.ua/css/metro-responsive.min.css" rel="stylesheet">
    <link href="http://cdn.metroui.org.ua/css/metro-rtl.min.css " rel="stylesheet"> 
    <style>
    	body {
    		padding: 10px;
    	}
    	#checkBoxForm {
    		border: ridge 1px green;
    		padding: 10px;
    		width: 400px;
    	}
    	#select1, #select2, #select3 {
    		color: white;
    	} 
    </style>
</head>
	<body id="body" >
		<h1 class = "ol-blue"> To-do App</h1>
		<br>
		<h2 class = "bd-blue"> What you need to do today: </h2>
		<br>
		<form id = "checkBoxForm" class = "bg-blue bg-active-lightBlue">
			<input type = "checkbox"> <label id = "select1"> Write some HTML code </label> <br>
			<input type = "checkbox"> <label id = "select2"> Go shopping </label> <br>
			<input type = "checkbox"> <label id = "select3">  Write a 500 page essay </label> 
		</form>
		<br>
			<label> Create new To-Do Item </label>
			<div class="input-control text">
   				 <input type="text" id="createNewItem" placeholder="Type your to-do item here">
			</div>
			<button type = "button" id = "newButton" class = "button rounded"> Create </button>
		<br>
		<br>
		<button type = "button" id = "backgroundButton" class = "button bg-blue bg-active-darkBlue fg-white"> Randomize background color</button> <br>	    
		<br>
		<p> Created using Metro UI CSS</p>
	</body>
	<script>
		/**var backgroundButton = document.getElementById("backgroundButton");
		var newButton = document.getElementById("newButton");
		var body = document.getElementById("body");
		var checkBoxesArray = document.querySelectorAll("input[type='checkbox']");
		var arrayOfLabels = document.getElementById('checkBoxForm').getElementsByTagName('label');
		var colorArray = ["white","green","red","yellow"];
		var lastNumberPicked = 0;

		var colorChange = function(){
			var myLabel = this.nextElementSibling;
			if(this.checked){
				myLabel.style.color = "green";
				myLabel.innerHTML += " (DONE)";
			} else {
				myLabel.style.color = "white";
				myLabel.innerHTML = myLabel.innerHTML.replace(" (DONE)", " ");
			}
		}

		for (var i = 0;i<checkBoxesArray.length;i++){
			checkBoxesArray[i].onclick = colorChange;	
		}

		
		//Function now ensures that you pick a different number/color every time.
		var clickOnBackgroundButton = function(){

			//Pick the number.
			var pickRandom = Math.floor(Math.random() * 4);

			//Mechanism to pick is below.  If it does not equal the last number picked, then set background color to color picked and change the last number picked to the color you just picked.  Otherwise, repick by recalling the function.
			if(pickRandom !== lastNumberPicked) {
				body.style.backgroundColor = colorArray[pickRandom];
				lastNumberPicked = pickRandom;
			} else {
				clickOnBackgroundButton();
			}
		};

		var createNewCheckbox = function(){
  			var inputElement = document.createElement("input");
  			inputElement.type = 'checkbox';
  			inputElement.onclick = colorChange;
   			return inputElement;
		};

		var clickOnNewButton = function(){
			var labelElement = document.createElement("label");
			var aNewBreak = document.createElement("br");
			var userInput = document.getElementById("createNewItem").value;
			labelElement.innerHTML = " " + userInput;
			labelElement.style.color = "white";
			checkBoxForm.appendChild(createNewCheckbox());
			checkBoxForm.appendChild(labelElement);
			checkBoxForm.appendChild(aNewBreak);
			document.getElementById("createNewItem").value = "";
		};

		var enterFunction = function(event){
			var whatWasPressed = event.which || event.KeyCode;
			if(whatWasPressed === 13){
				clickOnNewButton();
			}
		};


		//Add the event listener
		backgroundButton.addEventListener('click', clickOnBackgroundButton);
		newButton.addEventListener('click',clickOnNewButton);**/

	</script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script>
		var backgroundButton = $("#backgroundButton")[0];
		var newButton = $("#newButton")[0];
		var body = $("#body")[0];
		var checkBoxesArray = $("input[type='checkbox']");
		var arrayOfLabels = $("#checkBoxForm label");
		var colorArray = ["white","green","red","yellow"];
		var lastNumberPicked = 0;

		console.log(checkBoxesArray);
		console.log(arrayOfLabels);


		var colorChange = function(){
			if(this.checked){
				//Not sure if this is the way to access the label element.
				$("this").next().css("color","green");
				$("this").next().html += " (DONE)";
			} else {
				$("this").next().css("color","green");
				$("this").next().html = $("this").next().text().replace(" (DONE)", "");
			}
		}

		jQuery.each(function() {
  			//checkBoxesArray[val].click(function(){
  			//	colorChange;
  			//});
  			checkBoxesArray[val].click(colorChange);
 			return ( val > checkBoxesArray.length);
		});

		$("#createNewItem").keypress(function(e) {
   		 	if(e.which == 13) {
        		clickOnNewButton(); //Not sure if this is the correct way to call a function.
        	}
        });

        var clickOnNewButton = function(){
        	//The attribute method and the color changing doesn't work, but everything else works.
        	var labelElement =  $('<label></label>').attr("style", "color:white");
        	var newCheckBox = $("<input type='checkbox' onclick='colorChange()'></input>");
			var userInput = $("#createNewItem").val();
			var br = $("<br>");
			$('#checkBoxForm').append(br);
			$('#checkBoxForm').append(newCheckBox);
			$('#checkBoxForm').append(labelElement)
			$('#checkBoxForm').append(document.createTextNode(" " + userInput));
			$("#createNewItem").val("");
        };

        var clickOnBackgroundButton = function(){
        	//Code to be written
        };

        $('#newButton').on('click', clickOnNewButton);
		

        //Used bind, but realized bind was deprecated in jQuery 3.0
		$("#backgroundButton").on( "click", clickOnBackgroundButton ); 

	</script>
</html>
